(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[215],{6231:(e,t,s)=>{Promise.resolve().then(s.bind(s,2255))},2255:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),r=s(5565),l=s(8173),n=s.n(l),i=s(2115),c=s(984),d=s(3048);function o(){let[e,t]=(0,i.useState)([]),[s,l]=(0,i.useState)([]),[o,h]=(0,i.useState)(""),[x,u]=(0,i.useState)(!0),[p,m]=(0,i.useState)(null),[j,f]=(0,i.useState)({field:"date",order:"desc"}),[g,v]=(0,i.useState)(0),[y,w]=(0,i.useState)(1),[b,N]=(0,i.useState)(20);(0,i.useEffect)(()=>{(0,c.AL)().then(e=>{e.success?(t(e.players),v(e.players.length),u(!1)):m(e.error)})},[]),(0,i.useEffect)(()=>{let t=[...e];o&&(t=t.filter(e=>e.nick.toLowerCase().includes(o.toLowerCase()))),"date"===j.field?t.sort((e,t)=>{let s=new Date(e.last_online).getTime(),a=new Date(t.last_online).getTime();return"asc"===j.order?s-a:a-s}):"nick"===j.field&&t.sort((e,t)=>"asc"===j.order?e.nick.localeCompare(t.nick):t.nick.localeCompare(e.nick)),l(t)},[e,o,j]);let k=e=>{h(e),w(1)},M=e=>{f(t=>t.field===e?{field:e,order:"asc"===t.order?"desc":"asc"}:{field:e,order:"asc"})},S=e=>{e>=1&&e<=Math.ceil(s.length/b)&&w(e)},C=s.slice((y-1)*b,y*b);return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center pb-8",children:[(0,a.jsx)("h2",{className:"text-3xl sm:text-4xl font-bold",children:"Player list"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[g," players total"]})]}),(0,a.jsx)("div",{className:"w-full md:w-1/2 lg:w-1/3 mx-auto pb-4",children:(0,a.jsx)("input",{type:"text",placeholder:"Search by nick ...",value:o,onChange:e=>k(e.target.value),className:"p-2 rounded-md w-full focus:outline-none"})}),(0,a.jsx)("div",{children:x?p?(0,d.A)({error:p}):(0,a.jsx)("div",{className:"flex justify-center py-4",children:(0,a.jsx)(r.default,{src:"/assets/loading_clock.gif",alt:"Loading",width:80,height:80})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("table",{className:"table-auto w-full rounded-xl overflow-hidden",children:[(0,a.jsx)("thead",{className:"bg-white",children:(0,a.jsxs)("tr",{className:"h-10",children:[(0,a.jsxs)("th",{className:"text-left pl-4",children:["Player",(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline ml-1 cursor-pointer",onClick:()=>M("nick"),children:"nick"===j.field&&"asc"===j.order?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"m3 8 4-4 4 4"}),(0,a.jsx)("path",{d:"M7 4v16"}),(0,a.jsx)("path",{d:"M20 8h-5"}),(0,a.jsx)("path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10"}),(0,a.jsx)("path",{d:"M15 14h5l-5 6h5"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"m3 8 4-4 4 4"}),(0,a.jsx)("path",{d:"M7 4v16"}),(0,a.jsx)("path",{d:"M15 4h5l-5 6h5"}),(0,a.jsx)("path",{d:"M15 20v-3.5a2.5 2.5 0 0 1 5 0V20"}),(0,a.jsx)("path",{d:"M20 18h-5"})]})})]}),(0,a.jsxs)("th",{className:"text-right pr-4",children:["Last online",(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline ml-1 cursor-pointer",onClick:()=>M("date"),children:"date"===j.field&&"asc"===j.order?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"m3 8 4-4 4 4"}),(0,a.jsx)("path",{d:"M7 4v16"}),(0,a.jsx)("rect",{x:"15",y:"4",width:"4",height:"6",ry:"2"}),(0,a.jsx)("path",{d:"M17 20v-6h-2"}),(0,a.jsx)("path",{d:"M15 20h4"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"m3 8 4-4 4 4"}),(0,a.jsx)("path",{d:"M7 4v16"}),(0,a.jsx)("path",{d:"M17 10V4h-2"}),(0,a.jsx)("path",{d:"M15 10h4"}),(0,a.jsx)("rect",{x:"15",y:"14",width:"4",height:"6",ry:"2"})]})})]})]})}),(0,a.jsx)("tbody",{className:"bg-white/40 text-xs sm:text-base",children:C.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-300/40 even:bg-white/50 hover:font-bold",children:[(0,a.jsx)("td",{className:"pl-4 py-1",children:(0,a.jsxs)(n(),{href:"/player?q=".concat(e.id,"&uuid=").concat(e.uuid),className:"flex items-center space-x-2",children:[(0,a.jsx)(r.default,{src:"https://nmsr.nickac.dev/face/".concat(e.uuid),alt:"Player Head",width:32,height:32}),(0,a.jsx)("p",{children:e.nick||"Missing nick"})]})}),(0,a.jsxs)("td",{className:"pr-4 text-right py-1",children:[e.last_online.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," - ",e.last_online.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric"})]})]},t))})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-4 space-y-4 sm:space-y-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("p",{children:["Showing ",(y-1)*b+1,"-",Math.min(y*b,s.length)," of"," ",s.length," results"]}),(0,a.jsxs)("select",{value:b,onChange:e=>{N(parseInt(e.target.value,10)),w(1)},className:"border rounded p-1 focus:outline-none hover:cursor-pointer appearance-none pr-4 bg-white",children:[(0,a.jsx)("option",{value:5,children:"5"}),(0,a.jsx)("option",{value:10,children:"10"}),(0,a.jsx)("option",{value:20,children:"20"}),(0,a.jsx)("option",{value:50,children:"50"}),(0,a.jsx)("option",{value:100,children:"100"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>S(1),disabled:1===y,className:"p-1 border rounded disabled:opacity-50",children:"First"}),(0,a.jsx)("button",{onClick:()=>S(y-1),disabled:1===y,className:"p-1 border rounded disabled:opacity-50",children:"Prev"}),(0,a.jsx)("button",{onClick:()=>S(y+1),disabled:y===Math.ceil(s.length/b),className:"p-1 border rounded disabled:opacity-50",children:"Next"}),(0,a.jsx)("button",{onClick:()=>S(Math.ceil(s.length/b)),disabled:y===Math.ceil(s.length/b),className:"p-1 border rounded disabled:opacity-50",children:"Last"})]})]})]})})]})}},3048:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(5155);let r=e=>{let{error:t}=e;return(0,a.jsx)("div",{className:"flex justify-center py-4 border-2 border-red-300 rounded-md bg-red-200/40",children:(0,a.jsx)("p",{className:"text-red-500",children:JSON.stringify(t)})})}},984:(e,t,s)=>{"use strict";let a;s.d(t,{AL:()=>r,I$:()=>c,Kt:()=>n,Y:()=>i,k7:()=>l,v:()=>d,v7:()=>o}),a=Promise.all([s.e(268),s.e(367),s.e(972)]).then(s.bind(s,6699));let r=async function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(await a).getAllPlayers(...t)},l=async function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(await a).getPlayerDataByUUID(...t)},n=async function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(await a).getPlayerDataByID(...t)},i=async function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(await a).getHallOfFameData(...t)},c=async function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(await a).getServerData(...t)},d=async function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(await a).getServerStats(...t)},o=async function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(await a).getStatData(...t)}}},e=>{var t=t=>e(e.s=t);e.O(0,[970,465,441,517,358],()=>t(6231)),_N_E=e.O()}]);