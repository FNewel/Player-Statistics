(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[469],{5846:(e,r,t)=>{Promise.resolve().then(t.bind(t,9236))},6046:(e,r,t)=>{"use strict";var s=t(6658);t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},9236:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var s=t(5155),a=t(5565),n=t(8173),l=t.n(n),c=t(6046),i=t(2115),d=t(984),h=t(3048),o=t(1333);function x(){return(0,s.jsx)(i.Suspense,{fallback:(0,s.jsx)("div",{className:"flex justify-center py-4",children:"Loading..."}),children:(0,s.jsx)(u,{})})}function u(){let[e,r]=(0,i.useState)(null),[t,n]=(0,i.useState)(null),[x,u]=(0,i.useState)(null),[p,m]=(0,i.useState)([]),[f,j]=(0,i.useState)(!0),[g,y]=(0,i.useState)(""),[v,w]=(0,i.useState)({field:"score",order:"desc"}),[k,N]=(0,i.useState)(null),b=(0,c.useSearchParams)();(0,i.useEffect)(()=>{let e=b.get("q"),t=b.get("c");if(!e||!t){N("Missing required query parameters."),j(!1);return}r(e.replace(/_/g," ").trim().replace(/^\w/,e=>e.toUpperCase())),n(t.replace(/_/g," ").trim().replace(/^\w/,e=>e.toUpperCase())),(0,d.v7)(t,e).then(e=>{e.success&&e.data&&e.data.length>0?u(e.data):e.error?N(e.error):N("No data found"),j(!1)})},[b]),(0,i.useEffect)(()=>{if(!x)return;let e=[...x];g&&(e=e.filter(e=>e.player_nick.toLowerCase().includes(g.toLowerCase()))),"score"===v.field?e.sort((e,r)=>"asc"===v.order?e.score-r.score:r.score-e.score):"nick"===v.field&&e.sort((e,r)=>"asc"===v.order?e.player_nick.localeCompare(r.player_nick):r.player_nick.localeCompare(e.player_nick)),m(e)},[g,v,x]);let S=e=>{y(e)},_=e=>{w(r=>r.field===e?{field:e,order:"asc"===r.order?"desc":"asc"}:{field:e,order:"asc"})};return(0,s.jsx)(s.Fragment,{children:f?(0,s.jsx)("div",{className:"flex justify-center py-4",children:(0,s.jsx)(a.default,{src:"/assets/loading_clock.gif",alt:"Loading",width:80,height:80})}):k?(0,h.A)({error:k}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col items-center pb-8",children:[(0,s.jsx)("h3",{className:"text-3xl sm:text-4xl text-center font-bold",children:e}),(0,s.jsxs)("p",{className:"text-gray-600 text-sm",children:["(",t,")"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"w-full md:w-1/2 lg:w-1/3 mx-auto pb-4",children:(0,s.jsx)("input",{type:"text",placeholder:"Search by nick ...",value:g,onChange:e=>S(e.target.value),className:"p-2 rounded-md w-full focus:outline-none"})}),(0,s.jsxs)("table",{className:"table-auto w-full rounded-xl overflow-hidden",children:[(0,s.jsx)("thead",{className:"bg-white/80",children:(0,s.jsxs)("tr",{className:"text-xs sm:text-base",children:[(0,s.jsx)("th",{className:"px-2 py-2 w-6",children:"Rank"}),(0,s.jsxs)("th",{className:"px-2 py-2 text-left",children:["Player",(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline ml-1 cursor-pointer",onClick:()=>_("nick"),children:"nick"===v.field&&"asc"===v.order?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"m3 8 4-4 4 4"}),(0,s.jsx)("path",{d:"M7 4v16"}),(0,s.jsx)("path",{d:"M20 8h-5"}),(0,s.jsx)("path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10"}),(0,s.jsx)("path",{d:"M15 14h5l-5 6h5"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"m3 8 4-4 4 4"}),(0,s.jsx)("path",{d:"M7 4v16"}),(0,s.jsx)("path",{d:"M15 4h5l-5 6h5"}),(0,s.jsx)("path",{d:"M15 20v-3.5a2.5 2.5 0 0 1 5 0V20"}),(0,s.jsx)("path",{d:"M20 18h-5"})]})})]}),(0,s.jsx)("th",{className:"px-2 py-2 text-right ",children:(0,s.jsxs)("div",{className:"inline-flex items-center space-x-1",children:[(0,s.jsx)("span",{children:"Score"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline ml-1 cursor-pointer",onClick:()=>_("score"),children:"score"===v.field&&"asc"===v.order?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"m3 8 4-4 4 4"}),(0,s.jsx)("path",{d:"M7 4v16"}),(0,s.jsx)("rect",{x:"15",y:"4",width:"4",height:"6",ry:"2"}),(0,s.jsx)("path",{d:"M17 20v-6h-2"}),(0,s.jsx)("path",{d:"M15 20h4"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"m3 8 4-4 4 4"}),(0,s.jsx)("path",{d:"M7 4v16"}),(0,s.jsx)("path",{d:"M17 10V4h-2"}),(0,s.jsx)("path",{d:"M15 10h4"}),(0,s.jsx)("rect",{x:"15",y:"14",width:"4",height:"6",ry:"2"})]})})]})})]})}),(0,s.jsx)("tbody",{className:"bg-white/40 text-xs sm:text-base",children:p.map((e,r)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-300/40 even:bg-white/50 hover:font-bold",children:[(0,s.jsx)("td",{className:"px-2 sm:px-4 py-1 text-center",children:e.rank}),(0,s.jsx)("td",{className:"px-2 sm:px-4 py-1",children:(0,s.jsx)(l(),{href:"/player?q=".concat(e.player_id,"&uuid=").concat(e.player_uuid),children:(0,s.jsxs)("div",{className:"flex items-center  space-x-2",children:[(0,s.jsx)(a.default,{src:"https://nmsr.nickac.dev/face/".concat(e.player_uuid),alt:"Player Head",width:r<5?24:16,height:r<5?24:16}),(0,s.jsx)("p",{className:"truncate overflow-hidden",children:e.player_nick||"Missing nick"})]})})}),(0,s.jsx)("td",{className:"px-2 sm:px-4 py-1 text-right whitespace-nowrap",children:(0,s.jsx)(o.A,{text:String(e.score)})})]},r))})]})]})]})})}},3048:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var s=t(5155);let a=e=>{let{error:r}=e;return(0,s.jsx)("div",{className:"flex justify-center py-4 border-2 border-red-300 rounded-md bg-red-200/40",children:(0,s.jsx)("p",{className:"text-red-500",children:JSON.stringify(r)})})}},1333:(e,r,t)=>{"use strict";function s(e){let{text:r}=e;return r.replace(/\d+/g,e=>Number(e).toLocaleString("en-US").replace(/,/g," "))}t.d(r,{A:()=>s})},984:(e,r,t)=>{"use strict";let s;t.d(r,{AL:()=>a,I$:()=>i,Kt:()=>l,Y:()=>c,k7:()=>n,v:()=>d,v7:()=>h}),s=Promise.all([t.e(268),t.e(367),t.e(972)]).then(t.bind(t,6699));let a=async function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(await s).getAllPlayers(...r)},n=async function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(await s).getPlayerDataByUUID(...r)},l=async function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(await s).getPlayerDataByID(...r)},c=async function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(await s).getHallOfFameData(...r)},i=async function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(await s).getServerData(...r)},d=async function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(await s).getServerStats(...r)},h=async function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(await s).getStatData(...r)}}},e=>{var r=r=>e(e.s=r);e.O(0,[970,465,441,517,358],()=>r(5846)),_N_E=e.O()}]);